2021-01-07 15:16:18,640 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 17760 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-07 15:16:18,649 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-07 15:16:20,049 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-07 15:16:20,120 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-07 15:16:20,128 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-07 15:16:20,185 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 25ms. Found 0 repository interfaces.
2021-01-07 15:16:20,843 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d6f25181] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-07 15:16:21,182 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4973ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-07 15:16:21,849 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-07 15:16:21,853 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-07 15:16:21,905 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-07 15:16:21,905 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 3117 ms
2021-01-07 15:16:22,218 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-07 15:16:22,219 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-07 15:16:22,221 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-07 15:16:22,233 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@3effd4f3{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.8834808767636328090.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-07 15:16:22,235 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @6026ms
2021-01-07 15:16:22,453 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-07 15:16:22,896 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-07 15:16:24,127 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-07 15:16:26,062 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-07 15:16:26,081 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-07 15:16:26,082 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-07 15:16:26,092 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-07 15:16:26,120 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@1de0641b{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-07 15:16:26,123 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-07 15:16:26,127 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 8.644 seconds (JVM running for 9.919)
2021-01-07 15:16:26,129 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:53 - [CHAT] Service startup removes all users...
2021-01-07 15:17:46,596 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 4624 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-07 15:17:46,603 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-07 15:17:47,998 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-07 15:17:48,070 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-07 15:17:48,075 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-07 15:17:48,125 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 25ms. Found 0 repository interfaces.
2021-01-07 15:17:48,787 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1f865891] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-07 15:17:49,115 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4882ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-07 15:17:49,778 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-07 15:17:49,782 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-07 15:17:49,834 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-07 15:17:49,835 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 3093 ms
2021-01-07 15:17:50,139 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-07 15:17:50,140 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-07 15:17:50,142 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-07 15:17:50,155 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@3ec2ecea{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.3924924987510869969.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-07 15:17:50,156 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5923ms
2021-01-07 15:17:50,370 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-07 15:17:50,761 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-07 15:17:51,994 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-07 15:17:53,800 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-07 15:17:53,820 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-07 15:17:53,820 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-07 15:17:53,831 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-07 15:17:53,858 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@6411504a{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-07 15:17:53,861 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-07 15:17:53,865 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 8.369 seconds (JVM running for 9.632)
2021-01-07 15:17:53,867 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:53 - [CHAT] Service startup removes all users...
2021-01-07 22:56:40,751 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 18552 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-07 22:56:40,757 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-07 22:56:42,175 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-07 22:56:42,248 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-07 22:56:42,253 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-07 22:56:42,305 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 26ms. Found 0 repository interfaces.
2021-01-07 22:56:42,977 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3a74e950] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-07 22:56:43,307 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4947ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-07 22:56:43,978 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-07 22:56:43,982 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-07 22:56:44,034 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-07 22:56:44,035 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 3130 ms
2021-01-07 22:56:44,347 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-07 22:56:44,347 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-07 22:56:44,349 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-07 22:56:44,362 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@3d6a6bee{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.8861464240155454967.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-07 22:56:44,363 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @6003ms
2021-01-07 22:56:44,582 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-07 22:56:45,028 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-07 22:56:46,252 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-07 22:56:48,033 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-07 22:56:48,045 [main] ERROR [io.pandora.mall.chat.ChatNettyBoote] ChatNettyBoote.java:33 - [Netty] 初始化启动失败,异常信息:ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.,异常栈信息:{}
java.lang.IllegalStateException: ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.
	at org.apache.commons.lang3.Validate.validState(Validate.java:826)
	at io.pandora.mall.util.spring.SpringContextHolder.assertContextInjected(SpringContextHolder.java:76)
	at io.pandora.mall.util.spring.SpringContextHolder.getApplicationContext(SpringContextHolder.java:31)
	at io.pandora.mall.chat.ChatNettyBoote.printProjectConfigs(ChatNettyBoote.java:43)
	at io.pandora.mall.chat.ChatNettyBoote.onApplicationEvent(ChatNettyBoote.java:31)
	at io.pandora.mall.chat.ChatNettyBoote.onApplicationEvent(ChatNettyBoote.java:18)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:896)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at io.pandora.mall.chat.ChatApplication.main(ChatApplication.java:37)
2021-01-07 22:56:48,065 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-07 22:56:48,066 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-07 22:56:48,076 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-07 22:56:48,104 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@5ccb85d6{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-07 22:56:48,107 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-07 22:56:48,112 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 8.48 seconds (JVM running for 9.752)
2021-01-07 22:56:48,115 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:42 - [CHAT] Service startup removes all users...
2021-01-09 10:57:00,896 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 2968 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 10:57:00,902 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 10:57:01,995 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 10:57:02,058 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 10:57:02,062 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 10:57:02,106 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 22ms. Found 0 repository interfaces.
2021-01-09 10:57:02,626 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c947a7c3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 10:57:02,872 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4926ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 10:57:03,089 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 10:57:03,093 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 10:57:03,141 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 10:57:03,142 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2177 ms
2021-01-09 10:57:03,345 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 10:57:03,345 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 10:57:03,347 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 10:57:03,360 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@28348c6{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.6537139171277505762.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 10:57:03,361 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5416ms
2021-01-09 10:57:03,532 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 10:57:03,797 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 10:57:04,703 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 10:57:06,304 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 10:57:06,322 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 10:57:06,323 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 10:57:06,332 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 9 ms
2021-01-09 10:57:06,353 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@3f598450{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 10:57:06,359 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 10:57:06,364 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.506 seconds (JVM running for 8.418)
2021-01-09 10:57:06,366 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:38 - [CHAT] Service startup removes all users...
2021-01-09 14:40:49,051 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 11260 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 14:40:49,057 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 14:40:50,149 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 14:40:50,209 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 14:40:50,213 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 14:40:50,256 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2021-01-09 14:40:50,774 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1e140ec4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 14:40:51,012 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4903ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 14:40:51,205 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 14:40:51,208 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 14:40:51,252 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 14:40:51,253 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2086 ms
2021-01-09 14:40:51,436 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 14:40:51,437 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 14:40:51,439 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 14:40:51,451 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@3900fa71{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.6159257016527195287.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 14:40:51,452 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5343ms
2021-01-09 14:40:51,633 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 14:40:51,929 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 14:40:52,929 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 14:40:54,547 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 14:40:54,568 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 14:40:54,569 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 14:40:54,580 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 14:40:54,604 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@37e69c43{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 14:40:54,611 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 14:40:54,616 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.545 seconds (JVM running for 8.507)
2021-01-09 14:40:54,619 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:38 - [CHAT] Service startup removes all users...
2021-01-09 14:41:06,354 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:102 - [Netty] 移除客户端 ChannelId=73365fd7.....
2021-01-09 14:41:06,358 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:622 - Failed to remove a handler: ChatHandler#0
java.lang.IllegalStateException: ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.
	at org.apache.commons.lang3.Validate.validState(Validate.java:826)
	at io.pandora.mall.util.spring.SpringContextHolder.assertContextInjected(SpringContextHolder.java:76)
	at io.pandora.mall.util.spring.SpringContextHolder.getApplicationContext(SpringContextHolder.java:31)
	at io.pandora.mall.util.spring.SpringContextHolder.getBean(SpringContextHolder.java:44)
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:618)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 14:41:06,361 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.ChannelInitializer] ChannelInitializer.java:97 - Failed to initialize a channel. Closing: [id: 0x73365fd7, L:/0:0:0:0:0:0:0:1:10002 - R:/0:0:0:0:0:0:0:1:58465]
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerAdded() has thrown an exception; also failed to remove.
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:632)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalStateException: ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.
	at org.apache.commons.lang3.Validate.validState(Validate.java:826)
	at io.pandora.mall.util.spring.SpringContextHolder.assertContextInjected(SpringContextHolder.java:76)
	at io.pandora.mall.util.spring.SpringContextHolder.getApplicationContext(SpringContextHolder.java:31)
	at io.pandora.mall.util.spring.SpringContextHolder.getBean(SpringContextHolder.java:44)
	at io.pandora.mall.chat.websocket.ChatHandler.handlerAdded(ChatHandler.java:52)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	... 23 common frames omitted
2021-01-09 14:45:02,239 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 13888 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 14:45:02,286 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 14:45:03,363 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 14:45:03,426 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 14:45:03,430 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 14:45:03,474 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2021-01-09 14:45:04,020 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$beb50df5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 14:45:04,257 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4775ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 14:45:04,455 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 14:45:04,458 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 14:45:04,500 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 14:45:04,502 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2153 ms
2021-01-09 14:45:04,684 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 14:45:04,684 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 14:45:04,687 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 14:45:04,703 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@73ad7e90{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.2277572400106951097.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 14:45:04,704 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5223ms
2021-01-09 14:45:04,882 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 14:45:05,157 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 14:45:06,021 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 14:45:07,606 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 14:45:07,623 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 14:45:07,623 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 14:45:07,633 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 9 ms
2021-01-09 14:45:07,653 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@56dd6efa{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 14:45:07,658 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 14:45:07,663 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.357 seconds (JVM running for 8.181)
2021-01-09 14:45:07,665 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:38 - [CHAT] Service startup removes all users...
2021-01-09 14:45:48,701 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:102 - [Netty] 移除客户端 ChannelId=0b138496.....
2021-01-09 14:45:48,704 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:622 - Failed to remove a handler: ChatHandler#0
java.lang.IllegalStateException: ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.
	at org.apache.commons.lang3.Validate.validState(Validate.java:826)
	at io.pandora.mall.util.spring.SpringContextHolder.assertContextInjected(SpringContextHolder.java:76)
	at io.pandora.mall.util.spring.SpringContextHolder.getApplicationContext(SpringContextHolder.java:31)
	at io.pandora.mall.util.spring.SpringContextHolder.getBean(SpringContextHolder.java:44)
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:618)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 14:45:48,706 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.ChannelInitializer] ChannelInitializer.java:97 - Failed to initialize a channel. Closing: [id: 0x0b138496, L:/0:0:0:0:0:0:0:1:10002 - R:/0:0:0:0:0:0:0:1:59019]
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerAdded() has thrown an exception; also failed to remove.
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:632)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalStateException: ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.
	at org.apache.commons.lang3.Validate.validState(Validate.java:826)
	at io.pandora.mall.util.spring.SpringContextHolder.assertContextInjected(SpringContextHolder.java:76)
	at io.pandora.mall.util.spring.SpringContextHolder.getApplicationContext(SpringContextHolder.java:31)
	at io.pandora.mall.util.spring.SpringContextHolder.getBean(SpringContextHolder.java:44)
	at io.pandora.mall.chat.websocket.ChatHandler.handlerAdded(ChatHandler.java:52)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	... 23 common frames omitted
2021-01-09 14:51:07,506 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 18880 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 14:51:07,512 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 14:51:08,605 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 14:51:08,665 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 14:51:08,669 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 14:51:08,712 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2021-01-09 14:51:09,222 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c2ef755] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 14:51:09,456 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4745ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 14:51:09,652 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 14:51:09,655 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 14:51:09,700 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 14:51:09,700 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2085 ms
2021-01-09 14:51:09,879 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 14:51:09,880 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 14:51:09,882 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-09 14:51:09,895 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@26a2f7f9{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.8087895730579999066.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 14:51:09,896 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5184ms
2021-01-09 14:51:10,069 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 14:51:10,355 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 14:51:11,206 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 14:51:12,723 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 14:51:12,740 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 14:51:12,741 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 14:51:12,751 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-09 14:51:12,772 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@575c3e9b{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 14:51:12,777 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 14:51:12,781 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.252 seconds (JVM running for 8.07)
2021-01-09 14:51:12,784 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:38 - [CHAT] Service startup removes all users...
2021-01-09 14:51:20,445 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:106 - [Netty] 移除客户端 ChannelId=d75fba8b.....
2021-01-09 14:51:20,449 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:622 - Failed to remove a handler: ChatHandler#0
java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:107)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:618)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 14:51:20,451 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.ChannelInitializer] ChannelInitializer.java:97 - Failed to initialize a channel. Closing: [id: 0xd75fba8b, L:/0:0:0:0:0:0:0:1:10002 - R:/0:0:0:0:0:0:0:1:59612]
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerAdded() has thrown an exception; also failed to remove.
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:632)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalStateException: ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.
	at org.apache.commons.lang3.Validate.validState(Validate.java:826)
	at io.pandora.mall.util.spring.SpringContextHolder.assertContextInjected(SpringContextHolder.java:76)
	at io.pandora.mall.util.spring.SpringContextHolder.getApplicationContext(SpringContextHolder.java:31)
	at io.pandora.mall.util.spring.SpringContextHolder.getBean(SpringContextHolder.java:44)
	at io.pandora.mall.chat.websocket.ChatHandler.handlerAdded(ChatHandler.java:56)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	... 23 common frames omitted
2021-01-09 14:52:19,709 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 10848 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 14:52:19,722 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 14:52:20,844 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 14:52:20,919 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 14:52:20,923 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 14:52:20,966 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2021-01-09 14:52:21,463 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8afa63a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 14:52:21,697 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4749ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 14:52:21,885 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 14:52:21,889 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 14:52:21,931 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 14:52:21,932 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2113 ms
2021-01-09 14:52:22,112 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 14:52:22,113 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 14:52:22,115 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 14:52:22,127 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@43034809{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.6071946457268785533.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 14:52:22,128 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5179ms
2021-01-09 14:52:22,310 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 14:52:22,523 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 14:52:23,449 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 14:52:25,077 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 14:52:25,095 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 14:52:25,096 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 14:52:25,107 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 14:52:25,129 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@3ba348ca{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 14:52:25,134 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 14:52:25,139 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.338 seconds (JVM running for 8.19)
2021-01-09 14:52:25,142 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:38 - [CHAT] Service startup removes all users...
2021-01-09 14:52:31,826 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:105 - [Netty] 移除客户端 ChannelId=80ca1b0d.....
2021-01-09 14:52:31,830 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:622 - Failed to remove a handler: ChatHandler#0
java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:106)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:618)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 14:52:31,832 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.ChannelInitializer] ChannelInitializer.java:97 - Failed to initialize a channel. Closing: [id: 0x80ca1b0d, L:/0:0:0:0:0:0:0:1:10002 - R:/0:0:0:0:0:0:0:1:59953]
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerAdded() has thrown an exception; also failed to remove.
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:632)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerAdded(ChatHandler.java:56)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	... 23 common frames omitted
2021-01-09 14:54:07,440 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 22752 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 14:54:07,446 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 14:54:08,663 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 14:54:08,738 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 14:54:08,743 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 14:54:08,791 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2021-01-09 14:54:09,378 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ed149126] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 14:54:09,643 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5600ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 14:54:09,858 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 14:54:09,863 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 14:54:09,910 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 14:54:09,911 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2392 ms
2021-01-09 14:54:10,114 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 14:54:10,115 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 14:54:10,117 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 14:54:10,133 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@3ff54f3d{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.5523455953685290412.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 14:54:10,134 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @6091ms
2021-01-09 14:54:10,345 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 14:54:10,637 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 14:54:11,608 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 14:54:13,272 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 14:54:13,293 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 14:54:13,294 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 14:54:13,305 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 14:54:13,329 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@54463380{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 14:54:13,334 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 14:54:13,339 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.867 seconds (JVM running for 9.296)
2021-01-09 14:54:13,342 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:38 - [CHAT] Service startup removes all users...
2021-01-09 14:54:41,901 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:105 - [Netty] 移除客户端 ChannelId=9465d8c1.....
2021-01-09 14:54:41,907 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:622 - Failed to remove a handler: ChatHandler#0
java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:106)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:618)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 14:54:41,909 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.ChannelInitializer] ChannelInitializer.java:97 - Failed to initialize a channel. Closing: [id: 0x9465d8c1, L:/0:0:0:0:0:0:0:1:10002 - R:/0:0:0:0:0:0:0:1:60324]
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerAdded() has thrown an exception; also failed to remove.
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:632)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerAdded(ChatHandler.java:56)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	... 24 common frames omitted
2021-01-09 14:56:11,693 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 23860 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 14:56:11,699 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 14:56:12,782 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 14:56:12,843 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 14:56:12,847 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 14:56:12,894 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 24ms. Found 0 repository interfaces.
2021-01-09 14:56:13,415 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a81da618] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 14:56:13,649 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4735ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 14:56:13,842 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 14:56:13,846 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 14:56:13,889 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 14:56:13,889 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2085 ms
2021-01-09 14:56:14,078 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 14:56:14,078 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 14:56:14,080 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 14:56:14,093 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@5c10285a{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.7988042699785346890.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 14:56:14,095 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5181ms
2021-01-09 14:56:14,264 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 14:56:14,553 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 14:56:15,407 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 14:56:16,929 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 14:56:16,946 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 14:56:16,947 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 14:56:16,957 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-09 14:56:16,977 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@3e8b3b79{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 14:56:16,982 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 14:56:16,986 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.236 seconds (JVM running for 8.073)
2021-01-09 14:56:16,989 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:38 - [CHAT] Service startup removes all users...
2021-01-09 14:56:28,737 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:105 - [Netty] 移除客户端 ChannelId=57638ac3.....
2021-01-09 14:56:28,740 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:622 - Failed to remove a handler: ChatHandler#0
java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:106)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:618)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 14:56:28,742 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.ChannelInitializer] ChannelInitializer.java:97 - Failed to initialize a channel. Closing: [id: 0x57638ac3, L:/0:0:0:0:0:0:0:1:10002 - R:/0:0:0:0:0:0:0:1:60696]
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerAdded() has thrown an exception; also failed to remove.
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:632)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerAdded(ChatHandler.java:56)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	... 23 common frames omitted
2021-01-09 14:57:11,554 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 15476 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 14:57:11,563 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 14:57:12,820 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 14:57:12,897 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 14:57:12,902 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 14:57:12,950 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 23ms. Found 0 repository interfaces.
2021-01-09 14:57:13,541 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a8e5ef41] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 14:57:13,812 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5409ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 14:57:14,027 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 14:57:14,032 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 14:57:14,080 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 14:57:14,080 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2439 ms
2021-01-09 14:57:14,292 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 14:57:14,293 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 14:57:14,295 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 14:57:14,310 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@1d8b0500{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.7385712022825464298.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 14:57:14,312 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5909ms
2021-01-09 14:57:14,507 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 14:57:14,803 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 14:57:15,773 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 14:57:17,409 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 14:57:17,428 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 14:57:17,429 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 14:57:17,440 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 14:57:17,462 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@19dac2d6{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 14:57:17,467 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 14:57:17,472 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.959 seconds (JVM running for 9.07)
2021-01-09 14:57:17,475 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:38 - [CHAT] Service startup removes all users...
2021-01-09 14:58:00,772 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:105 - [Netty] 移除客户端 ChannelId=1eb914d1.....
2021-01-09 14:58:00,777 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:622 - Failed to remove a handler: ChatHandler#0
java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:106)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:618)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 14:58:00,779 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.ChannelInitializer] ChannelInitializer.java:97 - Failed to initialize a channel. Closing: [id: 0x1eb914d1, L:/0:0:0:0:0:0:0:1:10002 - R:/0:0:0:0:0:0:0:1:61027]
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerAdded() has thrown an exception; also failed to remove.
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:632)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerAdded(ChatHandler.java:56)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	... 24 common frames omitted
2021-01-09 15:00:06,745 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 21900 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 15:00:06,751 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 15:00:07,898 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 15:00:07,960 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 15:00:07,964 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 15:00:08,006 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2021-01-09 15:00:08,537 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4783b9b1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 15:00:08,773 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4776ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 15:00:08,965 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 15:00:08,968 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 15:00:09,010 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 15:00:09,011 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2151 ms
2021-01-09 15:00:09,193 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 15:00:09,193 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 15:00:09,195 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 15:00:09,208 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@27a7ef08{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.485763733233765122.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 15:00:09,210 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5212ms
2021-01-09 15:00:09,387 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 15:00:09,672 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 15:00:10,533 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 15:00:12,102 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 15:00:12,120 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 15:00:12,120 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 15:00:12,130 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 9 ms
2021-01-09 15:00:12,150 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@32f96bba{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 15:00:12,155 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 15:00:12,159 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.353 seconds (JVM running for 8.161)
2021-01-09 15:00:12,162 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 15:00:16,666 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:105 - [Netty] 移除客户端 ChannelId=ba551fa0.....
2021-01-09 15:00:16,669 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:622 - Failed to remove a handler: ChatHandler#0
java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:106)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:618)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 15:00:16,672 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.ChannelInitializer] ChannelInitializer.java:97 - Failed to initialize a channel. Closing: [id: 0xba551fa0, L:/0:0:0:0:0:0:0:1:10002 - R:/0:0:0:0:0:0:0:1:61425]
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerAdded() has thrown an exception; also failed to remove.
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:632)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:385)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:372)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:49)
	at io.pandora.mall.chat.init.ChatWebSocketServerInitializer.initChannel(ChatWebSocketServerInitializer.java:19)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1475)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1127)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:654)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:503)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.handlerAdded(ChatHandler.java:56)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:964)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:613)
	... 23 common frames omitted
2021-01-09 15:04:08,033 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 14668 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 15:04:08,038 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 15:04:09,130 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 15:04:09,191 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 15:04:09,195 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 15:04:09,237 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2021-01-09 15:04:09,777 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3d2c2458] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 15:04:10,011 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4907ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 15:04:10,200 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 15:04:10,204 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 15:04:10,247 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 15:04:10,247 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2099 ms
2021-01-09 15:04:10,429 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 15:04:10,429 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 15:04:10,431 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 15:04:10,444 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@1d61c6dc{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.3141451363414387810.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 15:04:10,445 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5341ms
2021-01-09 15:04:10,622 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 15:04:10,919 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 15:04:11,779 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 15:04:13,316 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 15:04:13,334 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 15:04:13,335 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 15:04:13,346 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 15:04:13,388 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@695c938d{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 15:04:13,394 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 15:04:13,398 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.447 seconds (JVM running for 8.294)
2021-01-09 15:04:13,401 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 15:07:49,208 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 19576 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 15:07:49,213 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 15:07:50,312 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 15:07:50,372 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 15:07:50,376 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 15:07:50,420 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 22ms. Found 0 repository interfaces.
2021-01-09 15:07:50,944 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$60383cbb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 15:07:51,177 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4728ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 15:07:51,370 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 15:07:51,373 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 15:07:51,416 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 15:07:51,417 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2097 ms
2021-01-09 15:07:51,597 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 15:07:51,597 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 15:07:51,599 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 15:07:51,611 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@2ca5f1ed{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.2515496839160047277.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 15:07:51,612 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5164ms
2021-01-09 15:07:51,782 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 15:07:52,048 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 15:07:52,906 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 15:07:54,442 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 15:07:54,459 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 15:07:54,460 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 15:07:54,469 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 9 ms
2021-01-09 15:07:54,489 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@772caabe{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 15:07:54,494 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 15:07:54,499 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.235 seconds (JVM running for 8.051)
2021-01-09 15:07:54,501 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 15:08:13,314 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:56 - [Netty] 服务端接入新连接,客户端 ChannelId=2d275523,当前总连接数:1
2021-01-09 15:08:13,469 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:75 - [Netty] 接收到ChannelId=2d275523,的数据为:{"tokenId":"testToken","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 15:08:13,477 [nioEventLoopGroup-5-1] ERROR [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:120 - [Netty] ChannelId=2d275523 出错啦,原因竟然是:ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.
2021-01-09 15:08:13,575 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.AbstractChannelHandlerContext] AbstractChannelHandlerContext.java:306 - An exception 'org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '2d275523')' at line 1
### The error may exist in io/pandora/mall/mapper/chat/ChatConnectLogMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  pk_id,instance_flag,app,country,update_time,server_port,server_host,token,area_code,client_type,create_time,user,channel_id,group,status  FROM chat_connect_log     WHERE (channel_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '2d275523')' at line 1
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '2d275523')' at line 1' [enable DEBUG level for full stacktrace] was thrown by a user handler's exceptionCaught() method while handling the following exception:
java.lang.IllegalStateException: ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.
	at org.apache.commons.lang3.Validate.validState(Validate.java:826)
	at io.pandora.mall.util.spring.SpringContextHolder.assertContextInjected(SpringContextHolder.java:76)
	at io.pandora.mall.util.spring.SpringContextHolder.getApplicationContext(SpringContextHolder.java:31)
	at io.pandora.mall.util.spring.SpringContextHolder.getBean(SpringContextHolder.java:44)
	at io.pandora.mall.chat.websocket.ChatHandler.registerConnect(ChatHandler.java:132)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:79)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:33)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:272)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:326)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:300)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 15:08:13,578 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:103 - [Netty] 移除客户端 ChannelId=2d275523.....
2021-01-09 15:08:13,586 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:1164 - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved() has thrown an exception.
	at io.netty.channel.DefaultChannelPipeline.callHandlerRemoved0(DefaultChannelPipeline.java:644)
	at io.netty.channel.DefaultChannelPipeline.destroyDown(DefaultChannelPipeline.java:888)
	at io.netty.channel.DefaultChannelPipeline.destroyUp(DefaultChannelPipeline.java:856)
	at io.netty.channel.DefaultChannelPipeline.destroy(DefaultChannelPipeline.java:848)
	at io.netty.channel.DefaultChannelPipeline.access$700(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelUnregistered(DefaultChannelPipeline.java:1404)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:193)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:179)
	at io.netty.channel.DefaultChannelPipeline.fireChannelUnregistered(DefaultChannelPipeline.java:833)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:827)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '2d275523')' at line 1
### The error may exist in io/pandora/mall/mapper/chat/ChatConnectLogMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  pk_id,instance_flag,app,country,update_time,server_port,server_host,token,area_code,client_type,create_time,user,channel_id,group,status  FROM chat_connect_log     WHERE (channel_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '2d275523')' at line 1
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '2d275523')' at line 1
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:234)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy67.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:158)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:76)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:61)
	at com.sun.proxy.$Proxy68.selectList(Unknown Source)
	at com.baomidou.mybatisplus.extension.service.impl.ServiceImpl.list(ServiceImpl.java:271)
	at com.baomidou.mybatisplus.extension.service.impl.ServiceImpl$$FastClassBySpringCGLIB$$76535273.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at io.pandora.mall.chat.service.impl.ChatConnectLogServiceImpl$$EnhancerBySpringCGLIB$$b6cc8ef9.list(<generated>)
	at io.pandora.mall.chat.websocket.service.ChatWebSocketService.offLine(ChatWebSocketService.java:46)
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:105)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerRemoved0(DefaultChannelPipeline.java:641)
	... 16 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '2d275523')' at line 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:970)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:387)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3051)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3049)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:167)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:498)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy83.query(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy82.query(Unknown Source)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:143)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy82.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 31 common frames omitted
2021-01-09 15:11:10,000 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:56 - [Netty] 服务端接入新连接,客户端 ChannelId=8071ecd2,当前总连接数:1
2021-01-09 15:11:10,005 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:75 - [Netty] 接收到ChannelId=8071ecd2,的数据为:{"tokenId":"testToken","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 15:11:10,006 [nioEventLoopGroup-5-2] ERROR [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:120 - [Netty] ChannelId=8071ecd2 出错啦,原因竟然是:ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.
2021-01-09 15:11:10,011 [nioEventLoopGroup-5-2] WARN  [io.netty.channel.AbstractChannelHandlerContext] AbstractChannelHandlerContext.java:306 - An exception 'org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '8071ecd2')' at line 1
### The error may exist in io/pandora/mall/mapper/chat/ChatConnectLogMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  pk_id,instance_flag,app,country,update_time,server_port,server_host,token,area_code,client_type,create_time,user,channel_id,group,status  FROM chat_connect_log     WHERE (channel_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '8071ecd2')' at line 1
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '8071ecd2')' at line 1' [enable DEBUG level for full stacktrace] was thrown by a user handler's exceptionCaught() method while handling the following exception:
java.lang.IllegalStateException: ApplicationContext属性未注入,请在ApplicationContext.xml中定义SpringContextHolder.
	at org.apache.commons.lang3.Validate.validState(Validate.java:826)
	at io.pandora.mall.util.spring.SpringContextHolder.assertContextInjected(SpringContextHolder.java:76)
	at io.pandora.mall.util.spring.SpringContextHolder.getApplicationContext(SpringContextHolder.java:31)
	at io.pandora.mall.util.spring.SpringContextHolder.getBean(SpringContextHolder.java:44)
	at io.pandora.mall.chat.websocket.ChatHandler.registerConnect(ChatHandler.java:132)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:79)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:33)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:272)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:326)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:300)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 15:11:10,013 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:103 - [Netty] 移除客户端 ChannelId=8071ecd2.....
2021-01-09 15:11:10,018 [nioEventLoopGroup-5-2] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:1164 - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved() has thrown an exception.
	at io.netty.channel.DefaultChannelPipeline.callHandlerRemoved0(DefaultChannelPipeline.java:644)
	at io.netty.channel.DefaultChannelPipeline.destroyDown(DefaultChannelPipeline.java:888)
	at io.netty.channel.DefaultChannelPipeline.destroyUp(DefaultChannelPipeline.java:856)
	at io.netty.channel.DefaultChannelPipeline.destroy(DefaultChannelPipeline.java:848)
	at io.netty.channel.DefaultChannelPipeline.access$700(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelUnregistered(DefaultChannelPipeline.java:1404)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:193)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:179)
	at io.netty.channel.DefaultChannelPipeline.fireChannelUnregistered(DefaultChannelPipeline.java:833)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:827)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '8071ecd2')' at line 1
### The error may exist in io/pandora/mall/mapper/chat/ChatConnectLogMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  pk_id,instance_flag,app,country,update_time,server_port,server_host,token,area_code,client_type,create_time,user,channel_id,group,status  FROM chat_connect_log     WHERE (channel_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '8071ecd2')' at line 1
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '8071ecd2')' at line 1
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:234)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy67.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:158)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:76)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:61)
	at com.sun.proxy.$Proxy68.selectList(Unknown Source)
	at com.baomidou.mybatisplus.extension.service.impl.ServiceImpl.list(ServiceImpl.java:271)
	at com.baomidou.mybatisplus.extension.service.impl.ServiceImpl$$FastClassBySpringCGLIB$$76535273.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at io.pandora.mall.chat.service.impl.ChatConnectLogServiceImpl$$EnhancerBySpringCGLIB$$b6cc8ef9.list(<generated>)
	at io.pandora.mall.chat.websocket.service.ChatWebSocketService.offLine(ChatWebSocketService.java:46)
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:105)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerRemoved0(DefaultChannelPipeline.java:641)
	... 16 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '8071ecd2')' at line 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:970)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:387)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3051)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3049)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:167)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:498)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy83.query(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy82.query(Unknown Source)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:143)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy82.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 31 common frames omitted
2021-01-09 15:20:42,301 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 23376 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 15:20:42,306 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 15:20:43,418 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 15:20:43,479 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 15:20:43,483 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 15:20:43,526 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 22ms. Found 0 repository interfaces.
2021-01-09 15:20:44,075 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4c896ee3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 15:20:44,310 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4763ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 15:20:44,500 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 15:20:44,504 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 15:20:44,548 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 15:20:44,549 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2139 ms
2021-01-09 15:20:44,730 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 15:20:44,730 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 15:20:44,732 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-09 15:20:44,744 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@6c8909c3{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.9014362759477946081.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 15:20:44,745 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5198ms
2021-01-09 15:20:44,918 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 15:20:45,184 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 15:20:46,042 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 15:20:47,564 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 15:20:47,581 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 15:20:47,582 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 15:20:47,592 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-09 15:20:47,612 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@42505474{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 15:20:47,618 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 15:20:47,622 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.248 seconds (JVM running for 8.075)
2021-01-09 15:20:47,625 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 15:21:00,424 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:55 - [Netty] 服务端接入新连接,客户端 ChannelId=5125435d,当前总连接数:1
2021-01-09 15:21:00,573 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:74 - [Netty] 接收到ChannelId=5125435d,的数据为:{"tokenId":"testToken","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 15:21:00,576 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:136 - [Netty] channelId=5125435d,注册成功...
2021-01-09 15:21:40,588 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=5125435d 进入读空闲,本实例当前连接数:1
2021-01-09 15:21:50,489 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=5125435d 进入写空闲,本实例当前连接数:1
2021-01-09 15:22:03,160 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:55 - [Netty] 服务端接入新连接,客户端 ChannelId=bcf02064,当前总连接数:2
2021-01-09 15:22:03,165 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:74 - [Netty] 接收到ChannelId=bcf02064,的数据为:{"tokenId":"testToken","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 15:22:03,165 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:136 - [Netty] channelId=bcf02064,注册成功...
2021-01-09 15:22:20,585 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=5125435d 进入读空闲,本实例当前连接数:2
2021-01-09 15:22:40,490 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=5125435d 进入写空闲,本实例当前连接数:2
2021-01-09 15:22:43,167 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bcf02064 进入读空闲,本实例当前连接数:2
2021-01-09 15:24:08,850 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 18408 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 15:24:08,855 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 15:24:09,977 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 15:24:10,039 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 15:24:10,043 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 15:24:10,086 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 22ms. Found 0 repository interfaces.
2021-01-09 15:24:10,610 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1f10667e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 15:24:10,846 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4782ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 15:24:11,037 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 15:24:11,041 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 15:24:11,084 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 15:24:11,085 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2124 ms
2021-01-09 15:24:11,264 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 15:24:11,265 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 15:24:11,267 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 15:24:11,279 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@3e7545e8{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.2767994236580133296.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 15:24:11,280 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5216ms
2021-01-09 15:24:11,451 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 15:24:11,722 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 15:24:12,576 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 15:24:14,100 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 15:24:14,117 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 15:24:14,118 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 15:24:14,128 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-09 15:24:14,148 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@1b13467c{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 15:24:14,153 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 15:24:14,158 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.261 seconds (JVM running for 8.094)
2021-01-09 15:24:14,161 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 15:24:21,658 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:55 - [Netty] 服务端接入新连接,客户端 ChannelId=5920d6e3,当前总连接数:1
2021-01-09 15:25:01,700 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=5920d6e3 进入读空闲,本实例当前连接数:1
2021-01-09 15:25:11,195 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=5920d6e3 进入写空闲,本实例当前连接数:1
2021-01-09 15:25:41,698 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=5920d6e3 进入读空闲,本实例当前连接数:1
2021-01-09 15:26:01,195 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=5920d6e3 进入写空闲,本实例当前连接数:1
2021-01-09 15:26:22,646 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 16408 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 15:26:22,652 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 15:26:23,918 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 15:26:23,992 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 15:26:23,997 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 15:26:24,046 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 23ms. Found 0 repository interfaces.
2021-01-09 15:26:24,653 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$273a1395] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 15:26:24,922 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5479ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 15:26:25,136 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 15:26:25,141 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 15:26:25,190 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 15:26:25,190 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2443 ms
2021-01-09 15:26:25,401 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 15:26:25,401 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 15:26:25,403 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 15:26:25,419 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@29c17c3d{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.6288166160045422141.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 15:26:25,420 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5978ms
2021-01-09 15:26:25,615 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 15:26:25,931 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 15:26:26,920 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 15:26:28,553 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 15:26:28,573 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 15:26:28,573 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 15:26:28,584 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 15:26:28,607 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@44864536{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 15:26:28,612 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 15:26:28,617 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.106 seconds (JVM running for 9.175)
2021-01-09 15:26:28,620 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 15:26:39,132 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:55 - [Netty] 服务端接入新连接,客户端 ChannelId=7a318b64,当前总连接数:1
2021-01-09 15:27:19,182 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=7a318b64 进入读空闲,本实例当前连接数:1
2021-01-09 15:27:28,676 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=7a318b64 进入写空闲,本实例当前连接数:1
2021-01-09 15:27:40,274 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 19816 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 15:27:40,280 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 15:27:41,493 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 15:27:41,568 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 15:27:41,573 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 15:27:41,623 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 24ms. Found 0 repository interfaces.
2021-01-09 15:27:42,233 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4fc974f4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 15:27:42,504 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5380ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 15:27:42,722 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 15:27:42,726 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 15:27:42,775 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 15:27:42,776 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2419 ms
2021-01-09 15:27:42,986 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 15:27:42,987 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 15:27:42,989 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 15:27:43,005 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@32d5279{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.6998306059577308576.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 15:27:43,006 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5883ms
2021-01-09 15:27:43,203 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 15:27:43,502 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 15:27:44,487 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 15:27:46,156 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 15:27:46,177 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 15:27:46,177 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 15:27:46,188 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 15:27:46,211 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@4a9b92c6{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 15:27:46,216 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 15:27:46,221 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.002 seconds (JVM running for 9.098)
2021-01-09 15:27:46,224 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 15:27:53,235 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:55 - [Netty] 服务端接入新连接,客户端 ChannelId=86efae45,当前总连接数:1
2021-01-09 15:29:28,808 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 20944 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 15:29:28,820 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 15:29:30,024 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 15:29:30,098 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 15:29:30,102 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 15:29:30,153 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 24ms. Found 0 repository interfaces.
2021-01-09 15:29:30,774 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$aba2f277] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 15:29:31,053 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5383ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 15:29:31,270 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 15:29:31,274 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 15:29:31,322 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 15:29:31,322 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2427 ms
2021-01-09 15:29:31,531 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 15:29:31,531 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 15:29:31,533 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-09 15:29:31,549 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@21b6c9c2{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.7745296206329926307.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 15:29:31,550 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5882ms
2021-01-09 15:29:31,745 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 15:29:32,036 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 15:29:32,999 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 15:29:34,662 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 15:29:34,683 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 15:29:34,684 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 15:29:34,697 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 13 ms
2021-01-09 15:29:34,720 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@3356ff58{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 15:29:34,725 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 15:29:34,730 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 6.983 seconds (JVM running for 9.062)
2021-01-09 15:29:34,733 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 15:30:15,234 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:55 - [Netty] 服务端接入新连接,客户端 ChannelId=8b4f95e1,当前总连接数:1
2021-01-09 15:37:33,001 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 2968 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 15:37:33,009 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 15:37:34,307 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 15:37:34,399 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 15:37:34,404 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 15:37:34,453 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 23ms. Found 0 repository interfaces.
2021-01-09 15:37:35,039 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$731c0a69] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 15:37:35,312 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5571ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 15:37:35,529 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 15:37:35,533 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 15:37:35,583 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 15:37:35,584 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2445 ms
2021-01-09 15:37:35,795 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 15:37:35,796 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 15:37:35,798 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-09 15:37:35,813 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@2b4b96a4{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.2264769466218998111.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 15:37:35,815 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @6073ms
2021-01-09 15:37:36,011 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 15:37:36,323 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 15:37:37,316 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 15:37:38,947 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 15:37:38,967 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 15:37:38,968 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 15:37:38,980 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 12 ms
2021-01-09 15:37:39,003 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@5e385b6f{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 15:37:39,008 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 15:37:39,014 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.074 seconds (JVM running for 9.273)
2021-01-09 15:37:39,016 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:00:14,428 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 10260 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:00:14,435 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:00:15,775 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:00:15,853 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:00:15,858 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:00:15,912 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 25ms. Found 0 repository interfaces.
2021-01-09 16:00:16,606 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c2b372f8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:00:16,902 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5695ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:00:17,131 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:00:17,135 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:00:17,184 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:00:17,185 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2664 ms
2021-01-09 16:00:17,417 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:00:17,418 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:00:17,420 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-09 16:00:17,437 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@4337afd{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.4562918564188940570.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:00:17,438 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @6232ms
2021-01-09 16:00:17,649 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:00:17,945 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:00:18,458 [main] WARN  [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] AbstractApplicationContext.java:557 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatAccessTokenService': Unsatisfied dependency expressed through field 'tokenService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'io.pandora.mall.module.security.service.ITokenService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2021-01-09 16:00:18,460 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:1823 - {dataSource-1} closed
2021-01-09 16:00:18,467 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:167 - node0 Stopped scavenging
2021-01-09 16:00:18,471 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:1045 - Stopped o.s.b.w.e.j.JettyEmbeddedWebAppContext@4337afd{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.4562918564188940570.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],UNAVAILABLE}
2021-01-09 16:00:18,483 [main] INFO  [o.s.b.a.l.ConditionEvaluationReportLoggingListener] ConditionEvaluationReportLoggingListener.java:142 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-01-09 16:00:18,768 [main] ERROR [o.s.b.diagnostics.LoggingFailureAnalysisReporter] LoggingFailureAnalysisReporter.java:42 - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field tokenService in io.pandora.mall.chat.service.ChatAccessTokenService required a bean of type 'io.pandora.mall.module.security.service.ITokenService' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'io.pandora.mall.module.security.service.ITokenService' in your configuration.

2021-01-09 16:03:03,610 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 22852 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:03:03,617 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:03:04,842 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:03:04,915 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:03:04,920 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:03:04,971 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 24ms. Found 0 repository interfaces.
2021-01-09 16:03:05,577 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5dd9a808] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:03:05,848 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5416ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:03:06,064 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:03:06,069 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:03:06,117 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:03:06,118 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2420 ms
2021-01-09 16:03:06,331 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:03:06,332 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:03:06,334 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-09 16:03:06,349 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@759de304{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.1875567244872742123.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:03:06,350 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5917ms
2021-01-09 16:03:06,549 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:03:06,843 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:03:07,330 [main] WARN  [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] AbstractApplicationContext.java:557 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatAccessTokenService': Unsatisfied dependency expressed through field 'tokenMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'io.pandora.mall.mapper.system.TokenMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2021-01-09 16:03:07,332 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:1823 - {dataSource-1} closed
2021-01-09 16:03:07,337 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:167 - node0 Stopped scavenging
2021-01-09 16:03:07,341 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:1045 - Stopped o.s.b.w.e.j.JettyEmbeddedWebAppContext@759de304{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.1875567244872742123.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],UNAVAILABLE}
2021-01-09 16:03:07,353 [main] INFO  [o.s.b.a.l.ConditionEvaluationReportLoggingListener] ConditionEvaluationReportLoggingListener.java:142 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-01-09 16:03:07,610 [main] ERROR [o.s.b.diagnostics.LoggingFailureAnalysisReporter] LoggingFailureAnalysisReporter.java:42 - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field tokenMapper in io.pandora.mall.chat.service.ChatAccessTokenService required a bean of type 'io.pandora.mall.mapper.system.TokenMapper' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'io.pandora.mall.mapper.system.TokenMapper' in your configuration.

2021-01-09 16:04:57,442 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 3256 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:04:57,448 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:04:58,557 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:04:58,617 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:04:58,622 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:04:58,665 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2021-01-09 16:04:59,259 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e37804cb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:04:59,495 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4807ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:04:59,687 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:04:59,691 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:04:59,733 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:04:59,734 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2172 ms
2021-01-09 16:04:59,916 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:04:59,916 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:04:59,918 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-09 16:04:59,930 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@21618fa7{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.4376067071373381386.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:04:59,931 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5244ms
2021-01-09 16:05:00,111 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:05:00,382 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:05:01,284 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 16:05:02,277 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 16:05:03,592 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 16:05:03,610 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 16:05:03,610 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 16:05:03,621 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 16:05:03,640 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@6680f714{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 16:05:03,646 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 16:05:03,650 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.128 seconds (JVM running for 8.962)
2021-01-09 16:05:03,653 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:05:15,673 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 4988 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:05:15,679 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:05:16,899 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:05:16,972 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:05:16,978 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:05:17,026 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 24ms. Found 0 repository interfaces.
2021-01-09 16:05:17,693 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ec702740] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:05:17,968 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5532ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:05:18,183 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:05:18,187 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:05:18,235 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:05:18,236 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2476 ms
2021-01-09 16:05:18,452 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:05:18,453 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:05:18,455 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-09 16:05:18,471 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@1d858300{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.1723455893718752577.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:05:18,472 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @6036ms
2021-01-09 16:05:18,672 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:05:18,968 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:05:19,981 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 16:05:21,072 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 16:05:22,441 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 16:05:22,463 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 16:05:22,463 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 16:05:22,476 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 13 ms
2021-01-09 16:05:22,499 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@1584c019{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 16:05:22,504 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 16:05:22,509 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.876 seconds (JVM running for 10.073)
2021-01-09 16:05:22,512 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:05:33,799 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:56 - [Netty] 服务端接入新连接,客户端 ChannelId=826c2374,当前总连接数:1
2021-01-09 16:07:51,356 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 20280 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:07:51,362 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:07:52,474 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:07:52,536 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:07:52,540 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:07:52,584 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2021-01-09 16:07:53,164 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$aed6d50b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:07:53,401 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4795ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:07:53,592 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:07:53,596 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:07:53,640 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:07:53,640 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2171 ms
2021-01-09 16:07:53,829 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:07:53,829 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:07:53,831 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 16:07:53,843 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@62ce72ff{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.2096617609887050189.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:07:53,845 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5238ms
2021-01-09 16:07:54,021 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:07:54,299 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:07:55,199 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 16:07:56,172 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 16:07:57,479 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 16:07:57,497 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 16:07:57,497 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 16:07:57,509 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 16:07:57,529 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@6ef60295{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 16:07:57,534 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 16:07:57,538 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.103 seconds (JVM running for 8.931)
2021-01-09 16:07:57,541 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:08:09,048 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:56 - [Netty] 服务端接入新连接,客户端 ChannelId=e646a9f2,当前总连接数:1
2021-01-09 16:08:49,091 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=e646a9f2 进入读空闲,本实例当前连接数:1
2021-01-09 16:09:07,658 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 16960 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:09:07,665 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:09:08,825 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:09:08,893 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:09:08,897 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:09:08,941 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 22ms. Found 0 repository interfaces.
2021-01-09 16:09:09,530 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2f109357] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:09:09,769 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4873ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:09:09,971 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:09:09,974 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:09:10,025 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:09:10,025 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2243 ms
2021-01-09 16:09:10,212 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:09:10,213 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:09:10,214 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 16:09:10,227 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@11bd803{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.650167673800220585.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:09:10,228 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5332ms
2021-01-09 16:09:10,408 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:09:10,687 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:09:11,596 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 16:09:12,566 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 16:09:13,903 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 16:09:13,920 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 16:09:13,921 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 16:09:13,932 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 16:09:13,952 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@2fe74516{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 16:09:13,957 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 16:09:13,961 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.235 seconds (JVM running for 9.065)
2021-01-09 16:09:13,964 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:10:03,653 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:56 - [Netty] 服务端接入新连接,客户端 ChannelId=a04a36b9,当前总连接数:1
2021-01-09 16:10:03,811 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:75 - [Netty] 接收到ChannelId=a04a36b9,的数据为:{"tokenId":"testToken","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 16:10:03,850 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:144 - [Netty] 用户【0】,channelId=a04a36b9,注册成功...
2021-01-09 16:14:30,395 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 16748 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:14:30,400 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:14:31,446 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:14:31,506 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:14:31,510 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:14:31,553 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2021-01-09 16:14:32,135 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d7d82d60] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:14:32,376 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4852ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:14:32,569 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:14:32,572 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:14:32,614 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:14:32,615 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2151 ms
2021-01-09 16:14:32,830 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:14:32,831 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:14:32,833 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 16:14:32,845 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@3ae2ed38{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.103776794295680915.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:14:32,847 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5323ms
2021-01-09 16:14:33,025 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:14:33,298 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:14:34,199 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 16:14:35,170 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 16:14:36,492 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 16:14:36,511 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 16:14:36,512 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 16:14:36,523 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 11 ms
2021-01-09 16:14:36,543 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@4d9754a8{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 16:14:36,549 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 16:14:36,553 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.201 seconds (JVM running for 9.029)
2021-01-09 16:14:36,556 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:14:48,375 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:56 - [Netty] 服务端接入新连接,客户端 ChannelId=4dab36af,当前总连接数:1
2021-01-09 16:14:48,533 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:75 - [Netty] 接收到ChannelId=4dab36af,的数据为:{"tokenId":"123456789","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 16:14:48,573 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:140 - [Netty] 用户【10020】,channelId=4dab36af,注册成功...
2021-01-09 16:15:28,585 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=4dab36af 进入读空闲,本实例当前连接数:1
2021-01-09 16:15:38,449 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=4dab36af 进入写空闲,本实例当前连接数:1
2021-01-09 16:17:09,460 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 15180 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:17:09,466 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:17:10,709 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:17:10,783 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:17:10,788 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:17:10,838 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 24ms. Found 0 repository interfaces.
2021-01-09 16:17:11,502 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$23790301] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:17:11,775 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5609ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:17:11,995 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:17:12,000 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:17:12,048 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:17:12,049 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2502 ms
2021-01-09 16:17:12,257 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:17:12,257 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:17:12,259 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 16:17:12,275 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@46046c06{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.1729327240588453998.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:17:12,276 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @6109ms
2021-01-09 16:17:12,482 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:17:12,782 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:17:13,812 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 16:17:14,919 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 16:17:16,265 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 16:17:16,286 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 16:17:16,286 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 16:17:16,299 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 13 ms
2021-01-09 16:17:16,321 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@ec5f944{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 16:17:16,326 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 16:17:16,331 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.948 seconds (JVM running for 10.165)
2021-01-09 16:17:16,334 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:17:24,645 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:56 - [Netty] 服务端接入新连接,客户端 ChannelId=6fa83283,当前总连接数:1
2021-01-09 16:17:24,820 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:75 - [Netty] 接收到ChannelId=6fa83283,的数据为:{"tokenId":"123456789","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 16:17:39,220 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:140 - [Netty] 用户【10020】,channelId=6fa83283,注册成功...
2021-01-09 16:47:18,320 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 3772 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:47:18,326 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:47:19,434 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:47:19,493 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:47:19,497 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:47:19,543 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 24ms. Found 0 repository interfaces.
2021-01-09 16:47:20,146 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2a4e756c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:47:20,388 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4866ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:47:20,583 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:47:20,587 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:47:20,630 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:47:20,631 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2195 ms
2021-01-09 16:47:20,814 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:47:20,815 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:47:20,817 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 16:47:20,829 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@4ab550d5{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.2708076236430900680.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:47:20,830 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5308ms
2021-01-09 16:47:21,006 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:47:21,289 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:47:22,207 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 16:47:23,173 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 16:47:24,482 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 16:47:24,500 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 16:47:24,501 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 16:47:24,511 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-09 16:47:24,531 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@748ac6f3{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 16:47:24,536 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 16:47:24,541 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.2 seconds (JVM running for 9.02)
2021-01-09 16:47:24,543 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:47:35,592 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:56 - [Netty] 服务端接入新连接,客户端 ChannelId=59857d27,当前总连接数:1
2021-01-09 16:47:35,747 [nioEventLoopGroup-5-1] ERROR [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:120 - [Netty] ChannelId=59857d27 出错啦,原因竟然是:not match : - ", info : pos 53, line 1, column 54{"tokenId":"123456789","action":1,"jsonObjStr":"{"app":"app","areaCode":"440100","clientType":"app",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"}
2021-01-09 16:47:35,845 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.AbstractChannelHandlerContext] AbstractChannelHandlerContext.java:306 - An exception 'org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '59857d27')' at line 1
### The error may exist in io/pandora/mall/mapper/chat/ChatConnectLogMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  pk_id,instance_flag,app,country,update_time,server_port,server_host,token,area_code,client_type,create_time,user,channel_id,group,status  FROM chat_connect_log     WHERE (channel_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '59857d27')' at line 1
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '59857d27')' at line 1' [enable DEBUG level for full stacktrace] was thrown by a user handler's exceptionCaught() method while handling the following exception:
com.alibaba.fastjson.JSONException: not match : - ", info : pos 53, line 1, column 54{"tokenId":"123456789","action":1,"jsonObjStr":"{"app":"app","areaCode":"440100","clientType":"app",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"}
	at com.alibaba.fastjson.parser.JSONLexerBase.nextTokenWithChar(JSONLexerBase.java:395)
	at com.alibaba.fastjson.parser.JSONLexerBase.nextTokenWithColon(JSONLexerBase.java:377)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseExtra(DefaultJSONParser.java:1614)
	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.parseField(JavaBeanDeserializer.java:1230)
	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.deserialze(JavaBeanDeserializer.java:866)
	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.parseRest(JavaBeanDeserializer.java:1576)
	at com.alibaba.fastjson.parser.deserializer.FastjsonASMDeserializer_1_DataContent.deserialze(Unknown Source)
	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.deserialze(JavaBeanDeserializer.java:284)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:688)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:396)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:300)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:573)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:73)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:33)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:272)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:326)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:300)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 16:47:35,852 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:103 - [Netty] 移除客户端 ChannelId=59857d27.....
2021-01-09 16:47:35,860 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:1164 - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved() has thrown an exception.
	at io.netty.channel.DefaultChannelPipeline.callHandlerRemoved0(DefaultChannelPipeline.java:644)
	at io.netty.channel.DefaultChannelPipeline.destroyDown(DefaultChannelPipeline.java:888)
	at io.netty.channel.DefaultChannelPipeline.destroyUp(DefaultChannelPipeline.java:856)
	at io.netty.channel.DefaultChannelPipeline.destroy(DefaultChannelPipeline.java:848)
	at io.netty.channel.DefaultChannelPipeline.access$700(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelUnregistered(DefaultChannelPipeline.java:1404)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:193)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:179)
	at io.netty.channel.DefaultChannelPipeline.fireChannelUnregistered(DefaultChannelPipeline.java:833)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:827)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '59857d27')' at line 1
### The error may exist in io/pandora/mall/mapper/chat/ChatConnectLogMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  pk_id,instance_flag,app,country,update_time,server_port,server_host,token,area_code,client_type,create_time,user,channel_id,group,status  FROM chat_connect_log     WHERE (channel_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '59857d27')' at line 1
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '59857d27')' at line 1
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:234)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy67.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:158)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:76)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:61)
	at com.sun.proxy.$Proxy70.selectList(Unknown Source)
	at com.baomidou.mybatisplus.extension.service.impl.ServiceImpl.list(ServiceImpl.java:271)
	at com.baomidou.mybatisplus.extension.service.impl.ServiceImpl$$FastClassBySpringCGLIB$$76535273.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at io.pandora.mall.chat.service.impl.ChatConnectLogServiceImpl$$EnhancerBySpringCGLIB$$8b76eb92.list(<generated>)
	at io.pandora.mall.chat.websocket.service.ChatWebSocketService.offLine(ChatWebSocketService.java:46)
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:105)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerRemoved0(DefaultChannelPipeline.java:641)
	... 16 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '59857d27')' at line 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:970)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:387)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3051)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3049)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:167)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:498)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy88.query(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy87.query(Unknown Source)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:143)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy87.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 31 common frames omitted
2021-01-09 16:48:41,260 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 10516 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:48:41,265 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:48:42,397 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:48:42,457 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:48:42,462 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:48:42,506 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 23ms. Found 0 repository interfaces.
2021-01-09 16:48:43,089 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d88f4ac0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:48:43,329 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4866ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:48:43,520 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:48:43,523 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:48:43,566 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:48:43,567 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2186 ms
2021-01-09 16:48:43,750 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:48:43,750 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:48:43,752 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-09 16:48:43,764 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@7d070ef5{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.1796958362078772248.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:48:43,765 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5302ms
2021-01-09 16:48:43,942 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:48:44,217 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:48:45,130 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 16:48:46,098 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 16:48:47,423 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 16:48:47,441 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 16:48:47,442 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 16:48:47,452 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-09 16:48:47,471 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@58b5a2f3{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 16:48:47,476 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 16:48:47,480 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.19 seconds (JVM running for 9.016)
2021-01-09 16:48:47,482 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:49:01,753 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:56 - [Netty] 服务端接入新连接,客户端 ChannelId=6fab7a58,当前总连接数:1
2021-01-09 16:49:01,908 [nioEventLoopGroup-5-1] ERROR [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:120 - [Netty] ChannelId=6fab7a58 出错啦,原因竟然是:not match : - ", info : pos 53, line 1, column 54{"tokenId":"123456789","action":1,"jsonObjStr":"{"app":"app","areaCode":"440100","clientType":"app",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"}
2021-01-09 16:49:02,005 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.AbstractChannelHandlerContext] AbstractChannelHandlerContext.java:306 - An exception 'org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '6fab7a58')' at line 1
### The error may exist in io/pandora/mall/mapper/chat/ChatConnectLogMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  pk_id,instance_flag,app,country,update_time,server_port,server_host,token,area_code,client_type,create_time,user,channel_id,group,status  FROM chat_connect_log     WHERE (channel_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '6fab7a58')' at line 1
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '6fab7a58')' at line 1' [enable DEBUG level for full stacktrace] was thrown by a user handler's exceptionCaught() method while handling the following exception:
com.alibaba.fastjson.JSONException: not match : - ", info : pos 53, line 1, column 54{"tokenId":"123456789","action":1,"jsonObjStr":"{"app":"app","areaCode":"440100","clientType":"app",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"}
	at com.alibaba.fastjson.parser.JSONLexerBase.nextTokenWithChar(JSONLexerBase.java:395)
	at com.alibaba.fastjson.parser.JSONLexerBase.nextTokenWithColon(JSONLexerBase.java:377)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseExtra(DefaultJSONParser.java:1614)
	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.parseField(JavaBeanDeserializer.java:1230)
	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.deserialze(JavaBeanDeserializer.java:866)
	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.parseRest(JavaBeanDeserializer.java:1576)
	at com.alibaba.fastjson.parser.deserializer.FastjsonASMDeserializer_1_DataContent.deserialze(Unknown Source)
	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.deserialze(JavaBeanDeserializer.java:284)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:688)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:396)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:300)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:573)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:73)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:33)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:272)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:326)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:300)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 16:49:02,011 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:103 - [Netty] 移除客户端 ChannelId=6fab7a58.....
2021-01-09 16:49:02,019 [nioEventLoopGroup-5-1] WARN  [io.netty.channel.DefaultChannelPipeline] DefaultChannelPipeline.java:1164 - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.channel.ChannelPipelineException: io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved() has thrown an exception.
	at io.netty.channel.DefaultChannelPipeline.callHandlerRemoved0(DefaultChannelPipeline.java:644)
	at io.netty.channel.DefaultChannelPipeline.destroyDown(DefaultChannelPipeline.java:888)
	at io.netty.channel.DefaultChannelPipeline.destroyUp(DefaultChannelPipeline.java:856)
	at io.netty.channel.DefaultChannelPipeline.destroy(DefaultChannelPipeline.java:848)
	at io.netty.channel.DefaultChannelPipeline.access$700(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelUnregistered(DefaultChannelPipeline.java:1404)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:193)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:179)
	at io.netty.channel.DefaultChannelPipeline.fireChannelUnregistered(DefaultChannelPipeline.java:833)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:827)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:518)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '6fab7a58')' at line 1
### The error may exist in io/pandora/mall/mapper/chat/ChatConnectLogMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  pk_id,instance_flag,app,country,update_time,server_port,server_host,token,area_code,client_type,create_time,user,channel_id,group,status  FROM chat_connect_log     WHERE (channel_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '6fab7a58')' at line 1
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '6fab7a58')' at line 1
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:234)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy67.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:158)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:76)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:61)
	at com.sun.proxy.$Proxy70.selectList(Unknown Source)
	at com.baomidou.mybatisplus.extension.service.impl.ServiceImpl.list(ServiceImpl.java:271)
	at com.baomidou.mybatisplus.extension.service.impl.ServiceImpl$$FastClassBySpringCGLIB$$76535273.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at io.pandora.mall.chat.service.impl.ChatConnectLogServiceImpl$$EnhancerBySpringCGLIB$$c3b3936a.list(<generated>)
	at io.pandora.mall.chat.websocket.service.ChatWebSocketService.offLine(ChatWebSocketService.java:46)
	at io.pandora.mall.chat.websocket.ChatHandler.handlerRemoved(ChatHandler.java:105)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:972)
	at io.netty.channel.DefaultChannelPipeline.callHandlerRemoved0(DefaultChannelPipeline.java:641)
	... 16 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group,status  FROM chat_connect_log 
 
 WHERE (channel_id = '6fab7a58')' at line 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:970)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:387)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3051)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3049)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:167)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:498)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy88.query(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy87.query(Unknown Source)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:143)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy87.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 31 common frames omitted
2021-01-09 16:50:30,102 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:56 - [Netty] 服务端接入新连接,客户端 ChannelId=bc798542,当前总连接数:1
2021-01-09 16:50:30,108 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:75 - [Netty] 接收到ChannelId=bc798542,的数据为:{"tokenId":"testToken","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 16:50:30,143 [nioEventLoopGroup-5-2] ERROR [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:161 - [Netty] channelId=bc798542,出现异常:{}...
java.lang.NumberFormatException: For input string: "bc798542"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:589)
	at java.lang.Long.valueOf(Long.java:803)
	at io.pandora.mall.chat.websocket.ChatHandler.registerConnect(ChatHandler.java:138)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:79)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:33)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:272)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:326)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:300)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 16:51:10,173 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bc798542 进入读空闲,本实例当前连接数:0
2021-01-09 16:51:20,171 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=bc798542 进入写空闲,本实例当前连接数:0
2021-01-09 16:51:50,171 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bc798542 进入读空闲,本实例当前连接数:0
2021-01-09 16:52:10,172 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=bc798542 进入写空闲,本实例当前连接数:0
2021-01-09 16:52:30,173 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bc798542 进入读空闲,本实例当前连接数:0
2021-01-09 16:53:00,173 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=bc798542 进入写空闲,本实例当前连接数:0
2021-01-09 16:53:10,172 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bc798542 进入读空闲,本实例当前连接数:0
2021-01-09 16:53:50,172 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=bc798542 进入写空闲,本实例当前连接数:0
2021-01-09 16:53:50,172 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bc798542 进入读空闲,本实例当前连接数:0
2021-01-09 16:54:30,174 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bc798542 进入读空闲,本实例当前连接数:0
2021-01-09 16:54:40,172 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=bc798542 进入写空闲,本实例当前连接数:0
2021-01-09 16:55:10,175 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bc798542 进入读空闲,本实例当前连接数:0
2021-01-09 16:55:30,173 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=bc798542 进入写空闲,本实例当前连接数:0
2021-01-09 16:55:50,176 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bc798542 进入读空闲,本实例当前连接数:0
2021-01-09 16:56:20,174 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=bc798542 进入写空闲,本实例当前连接数:0
2021-01-09 16:56:30,176 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bc798542 进入读空闲,本实例当前连接数:0
2021-01-09 16:57:10,175 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=bc798542 进入写空闲,本实例当前连接数:0
2021-01-09 16:57:10,175 [nioEventLoopGroup-5-2] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=bc798542 进入读空闲,本实例当前连接数:0
2021-01-09 16:57:35,740 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 15544 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:57:35,745 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:57:36,836 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:57:36,896 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:57:36,901 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:57:36,947 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 23ms. Found 0 repository interfaces.
2021-01-09 16:57:37,528 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8b327c1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:57:37,765 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4783ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:57:37,954 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:57:37,958 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:57:38,001 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:57:38,001 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2149 ms
2021-01-09 16:57:38,189 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:57:38,189 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:57:38,191 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 16:57:38,203 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@3cd206b5{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.1545329522507533114.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:57:38,204 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5224ms
2021-01-09 16:57:38,381 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:57:38,650 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:57:39,563 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 16:57:40,528 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 16:57:41,860 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 16:57:41,879 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 16:57:41,880 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 16:57:41,891 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-09 16:57:41,911 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@68f6e55d{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 16:57:41,917 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 16:57:41,921 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.102 seconds (JVM running for 8.94)
2021-01-09 16:57:41,924 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:58:24,007 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:58 - [Netty] 服务端接入新连接,客户端 ChannelId=b5882f48,当前总连接数:1
2021-01-09 16:58:24,159 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:77 - [Netty] 接收到ChannelId=b5882f48,的数据为:{"tokenId":"testToken","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 16:58:24,198 [nioEventLoopGroup-5-1] ERROR [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:163 - [Netty] channelId=b5882f48,出现异常:{}...
java.lang.NullPointerException: null
	at io.pandora.mall.chat.websocket.ChatHandler.registerConnect(ChatHandler.java:142)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:81)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:35)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:272)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:326)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:300)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 16:59:04,233 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=b5882f48 进入读空闲,本实例当前连接数:0
2021-01-09 16:59:14,230 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=b5882f48 进入写空闲,本实例当前连接数:0
2021-01-09 16:59:46,967 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 17876 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 16:59:46,973 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 16:59:48,064 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 16:59:48,123 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 16:59:48,128 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 16:59:48,172 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 22ms. Found 0 repository interfaces.
2021-01-09 16:59:48,750 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c604f9e0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 16:59:48,994 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @4784ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 16:59:49,185 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 16:59:49,189 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 16:59:49,232 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 16:59:49,232 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2153 ms
2021-01-09 16:59:49,412 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 16:59:49,413 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 16:59:49,415 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 660000ms
2021-01-09 16:59:49,427 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@40f8f5a8{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.5428479101258838043.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 16:59:49,428 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5218ms
2021-01-09 16:59:49,604 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 16:59:49,872 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 16:59:50,781 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 16:59:51,747 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 16:59:53,060 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 16:59:53,077 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 16:59:53,078 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 16:59:53,088 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-09 16:59:53,107 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@49469ffa{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 16:59:53,111 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 16:59:53,116 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.063 seconds (JVM running for 8.905)
2021-01-09 16:59:53,118 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 16:59:58,788 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:58 - [Netty] 服务端接入新连接,客户端 ChannelId=991f6015,当前总连接数:1
2021-01-09 16:59:58,942 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:77 - [Netty] 接收到ChannelId=991f6015,的数据为:{"tokenId":"testToken","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 16:59:58,982 [nioEventLoopGroup-5-1] ERROR [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:163 - [Netty] channelId=991f6015,出现异常:{}...
io.pandora.mall.exception.TokenException: Netty Token authentication failed
	at io.pandora.mall.chat.websocket.ChatHandler.registerConnect(ChatHandler.java:140)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:81)
	at io.pandora.mall.chat.websocket.ChatHandler.channelRead0(ChatHandler.java:35)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:272)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:326)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:300)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)
	at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
2021-01-09 17:00:39,018 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=991f6015 进入读空闲,本实例当前连接数:0
2021-01-09 17:00:49,015 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=991f6015 进入写空闲,本实例当前连接数:0
2021-01-09 17:01:16,191 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:50 - Starting ChatApplication on DESKTOP-PSDTEL6 with PID 12888 (D:\pandora-mall\pandora-chat\target\classes started by WIN10 in D:\pandora-mall)
2021-01-09 17:01:16,198 [main] INFO  [io.pandora.mall.chat.ChatApplication] SpringApplication.java:679 - The following profiles are active: DEV
2021-01-09 17:01:17,381 [main] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] Logger.java:44 - No MyBatis mapper was found in '[io.pandora.mall.chat]' package. Please check your configuration.
2021-01-09 17:01:17,447 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:244 - Multiple Spring Data modules found, entering strict repository configuration mode!
2021-01-09 17:01:17,452 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:126 - Bootstrapping Spring Data repositories in DEFAULT mode.
2021-01-09 17:01:17,508 [main] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] RepositoryConfigurationDelegate.java:182 - Finished Spring Data repository scanning in 22ms. Found 0 repository interfaces.
2021-01-09 17:01:18,076 [main] INFO  [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] PostProcessorRegistrationDelegate.java:330 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7c7c15e8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-09 17:01:18,317 [main] INFO  [org.eclipse.jetty.util.log] Log.java:193 - Logging initialized @5258ms to org.eclipse.jetty.util.log.Slf4jLog
2021-01-09 17:01:18,508 [main] INFO  [o.s.b.w.e.jetty.JettyServletWebServerFactory] JettyServletWebServerFactory.java:143 - Server initialized with port: 10001
2021-01-09 17:01:18,511 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:370 - jetty-9.4.15.v20190215; built: 2019-02-15T16:53:49.381Z; git: eb70b240169fcf1abbd86af36482d1c49826fa0b; jvm 1.8.0_121-b13
2021-01-09 17:01:18,554 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring embedded WebApplicationContext
2021-01-09 17:01:18,555 [main] INFO  [org.springframework.web.context.ContextLoader] ServletWebServerApplicationContext.java:296 - Root WebApplicationContext: initialization completed in 2225 ms
2021-01-09 17:01:18,738 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:365 - DefaultSessionIdManager workerName=node0
2021-01-09 17:01:18,738 [main] INFO  [org.eclipse.jetty.server.session] DefaultSessionIdManager.java:370 - No SessionScavenger set, using defaults
2021-01-09 17:01:18,740 [main] INFO  [org.eclipse.jetty.server.session] HouseKeeper.java:149 - node0 Scavenging every 600000ms
2021-01-09 17:01:18,753 [main] INFO  [org.eclipse.jetty.server.handler.ContextHandler] ContextHandler.java:855 - Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@4f4c789f{application,/,[file:///C:/Users/WIN10/AppData/Local/Temp/jetty-docbase.5386208682289654276.10001/, jar:file:/C:/Users/WIN10/.m2/repository/io/springfox/springfox-swagger-ui/2.6.1/springfox-swagger-ui-2.6.1.jar!/META-INF/resources, jar:file:/C:/Users/WIN10/.m2/repository/com/github/xiaoymin/swagger-bootstrap-ui/1.9.6/swagger-bootstrap-ui-1.9.6.jar!/META-INF/resources],AVAILABLE}
2021-01-09 17:01:18,754 [main] INFO  [org.eclipse.jetty.server.Server] Server.java:407 - Started @5694ms
2021-01-09 17:01:18,936 [main] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] DruidDataSourceAutoConfigure.java:56 - Init DruidDataSource
2021-01-09 17:01:19,151 [main] INFO  [com.alibaba.druid.pool.DruidDataSource] DruidDataSource.java:928 - {dataSource-1} inited
2021-01-09 17:01:20,231 [main] INFO  [o.s.scheduling.concurrent.ThreadPoolTaskExecutor] ExecutorConfigurationSupport.java:171 - Initializing ExecutorService 'applicationTaskExecutor'
2021-01-09 17:01:21,248 [main] WARN  [c.b.mybatisplus.core.metadata.TableInfoHelper] TableInfoHelper.java:282 - Warn: Could not find @TableId in Class: java.security.Permission.
2021-01-09 17:01:22,602 [main] INFO  [i.p.mall.chat.websocket.server.ChatWebSocketServer] ChatWebSocketServer.java:57 - [Netty] WebSocket Server Starting on port:10002......
2021-01-09 17:01:22,619 [main] INFO  [o.e.j.server.handler.ContextHandler.application] ContextHandler.java:2345 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-01-09 17:01:22,620 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:524 - Initializing Servlet 'dispatcherServlet'
2021-01-09 17:01:22,630 [main] INFO  [org.springframework.web.servlet.DispatcherServlet] FrameworkServlet.java:546 - Completed initialization in 10 ms
2021-01-09 17:01:22,650 [main] INFO  [org.eclipse.jetty.server.AbstractConnector] AbstractConnector.java:292 - Started ServerConnector@2c7db926{HTTP/1.1,[http/1.1]}{0.0.0.0:10001}
2021-01-09 17:01:22,655 [main] INFO  [o.s.boot.web.embedded.jetty.JettyWebServer] JettyWebServer.java:159 - Jetty started on port(s) 10001 (http/1.1) with context path '/'
2021-01-09 17:01:22,659 [main] INFO  [io.pandora.mall.chat.ChatApplication] StartupInfoLogger.java:59 - Started ChatApplication in 7.498 seconds (JVM running for 9.6)
2021-01-09 17:01:22,662 [main] INFO  [io.pandora.mall.chat.ChatApplication] ChatApplication.java:40 - [CHAT] Service startup removes all users...
2021-01-09 17:02:24,706 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:58 - [Netty] 服务端接入新连接,客户端 ChannelId=1d05d8b0,当前总连接数:1
2021-01-09 17:02:24,860 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:77 - [Netty] 接收到ChannelId=1d05d8b0,的数据为:{"tokenId":"123456789","action":1,"jsonObjStr":"{\"app\":\"\",\"areaCode\":\"\",\"clientType\":\"\",\"country\":\"\",\"group\":\"\",\"user\":\"zln\"}"},消息类型为:1
2021-01-09 17:02:24,905 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.ChatHandler] ChatHandler.java:142 - [Netty] 用户【10020】,channelId=1d05d8b0,注册成功...
2021-01-09 17:03:04,920 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:36 - [Netty] ChannelId=1d05d8b0 进入读空闲,本实例当前连接数:1
2021-01-09 17:03:14,774 [nioEventLoopGroup-5-1] INFO  [io.pandora.mall.chat.websocket.HeartBeatHandler] HeartBeatHandler.java:39 - [Netty] ChannelId=1d05d8b0 进入写空闲,本实例当前连接数:1
